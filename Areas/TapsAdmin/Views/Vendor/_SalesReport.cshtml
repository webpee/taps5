@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/TapsAdmin/Views/Shared/_AddItemLayout.cshtml";
}

<div class="content_inner" id="step-2" ng-controller="SalesReportCtrl">
    <div class="sales-report-part">
        <div class="sales-control-part">
            <div class="sales-control-left" ng-show="model.Flag">
                <a class="sales-tag" ng-click="BestSellingProduct('Year')">Current Year</a>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" ng-click="BestSellingProduct('CurrentMonth')">Current Month</p>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" ng-click="BestSellingProduct('Last30Month')">Last 30 days</p>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" ng-click="BestSellingProduct('Week')">Last 7 days</p>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" id="sandbox-container">
                    Custom:
                    <a href="#" class="input-daterange input-group" id="datepicker">
                        <input type="text" class="input-sm form-control" name="start" ng-model="model.StartDate" />
                        <span class="input-group-addon" style="color:black">to</span>
                        <input type="text" class="input-sm form-control" name="end" ng-model="model.EndDate" />
                    </a>
                </p>
                <a class="go-btn" ng-click="BestSellingProduct(0)" ng-disabled="model.StartDate == null || model.EndDate == null">GO</a>
                <div class="clear"></div>
            </div>

            <div class="sales-control-left" ng-show="model.Flag == false">
                <a class="sales-tag" ng-click="SalesGraphData('Year')">Current Year</a>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" ng-click="SalesGraphData('CurrentMonth')">Current Month</p>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" ng-click="SalesGraphData('Last30Month')">Last 30 days</p>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" ng-click="SalesGraphData('Week')">Last 7 days</p>
                <p class="sales-tag-divider">|</p>
                <p class="sales-tag" id="sandbox-container">
                    Custom:
                    <a href="#" class="input-daterange input-group" id="datepicker">
                        <input type="text" class="input-sm form-control" name="start" ng-model="model.SDate" />
                        <span class="input-group-addon" style="color:black">to</span>
                        <input type="text" class="input-sm form-control" name="end" ng-model="model.EDate" />
                    </a>
                </p>
                <a class="go-btn" ng-click="SalesGraphData(0)" ng-disabled="model.SDate == null || model.EDate == null">GO</a>
                <div class="clear"></div>
            </div>

            <div class="sales-control-right">
                <a class="sales-btn act" rel="graph" ng-click="model.Flag = false">SALES GRAPH</a>
                <a class="sales-btn" rel="best" ng-click="model.Flag = true">BEST SELLING PRODUCT</a>
                <div class="clear"></div>
            </div>
            <div class="clear"></div>
        </div>
        <div class="sales-report-space">
            <div class="sales-report-inner" id="graph" style="display:block;">
                <div class="report-inner-left1">
                    <div class="sales-graph-space">
                        <div id="chartContainer" class="GraphContainer">
                        </div>
                    </div>
                </div>
                <div class="report-inner-right">
                    <a class="print-report">Print <br>Report</a>
                    <div class="clear"></div>
                    <div class="graph-details">
                        <h2>RM {{TotalSalesinPeriod | number:2}}</h2>
                        <h4>sales in this period</h4>
                        <h2>RM {{AverageDailySales | number:2}}</h2>
                        <h4>average daily sales</h4>
                        <h2>{{TotalOrders}}</h2>
                        <h4>orders placed</h4>
                        <h2>{{ItemsPurchased}}</h2>
                        <h4>items purchsed</h4>
                    </div>
                </div>
                <div class="clear"></div>
            </div>
            <div class="sales-report-inner" id="best">
                <div class="report-inner-left">
                    <div>
                        <p class="report-title">BEST SELLING PRODUCT</p>
                        <div class="sort-updw">
                            <p>Sort</p>
                            <a class="dw-btn" ng-click="predicate12 = 'ProductName'; reverse12=!reverse12"></a>
                            <a class="up-btn" ng-click="predicate12 != 'ProductName'; reverse12=!reverse12"></a>
                            <div class="clear"></div>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <div class="sales-table">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr ng-repeat="o in lstBestSellingProduct  | orderBy:predicate12:reverse12">
                                <td style="width:38px; vertical-align:top;"><p class="table-number-tag">{{$index + 1}}.</p></td>
                                <td style="width:646px;">
                                    <p class="table-title-outter">{{o.ProductName}}</p>
                                    <div class="best-sell-details">
                                        <div class="best-item-img"><img ng-src="~/MediaUploads/{{o.ImageUrl}}" err-src="~/assets/img/no_image.jpg" /></div>
                                        <div class="best-item-details">
                                            <div class="sell-detail-row">
                                                <div class="details-tag">Status</div>
                                                <div class="details-tag-result">: &nbsp;&nbsp; {{o.Status}}</div>
                                                <div class="clear"></div>
                                            </div>
                                            <div class="sell-detail-row">
                                                <div class="details-tag">Price</div>
                                                <div class="details-tag-result">: &nbsp;&nbsp;RM {{o.Price}}</div>
                                                <div class="clear"></div>
                                            </div>
                                            <div class="sell-detail-row">
                                                <div class="details-tag">Stock No</div>
                                                <div class="details-tag-result">: &nbsp;&nbsp;</div>
                                                <div class="clear"></div>
                                            </div>
                                            <div class="sell-detail-row">
                                                <div class="details-tag">Description</div>
                                                <div class="details-tag-result">: &nbsp;&nbsp; {{o.Description}}</div>
                                                <div class="clear"></div>
                                            </div>
                                            <div class="sell-detail-row">
                                                <div class="details-tag">Warranty</div>
                                                <div class="details-tag-result">: &nbsp;&nbsp; {{o.Warranty}} month(s)</div>
                                                <div class="clear"></div>
                                            </div>
                                        </div>
                                        <div class="clear"></div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="report-inner-right">
                    <a class="print-report">Print <br>Report</a>
                    <div class="clear"></div>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>
<script src="~/js/dimple.v1.1.3.min.js"></script>

<link href="~/Areas/TapsAdmin/BootstrapDatePicker/css/bootstrap-datepicker3.standalone.css" rel="stylesheet" />
<link href="~/Areas/TapsAdmin/BootstrapDatePicker/css/bootstrap-datepicker3.standalone.min.css" rel="stylesheet" />


<script src="~/Areas/TapsAdmin/app/controllers/Vendor/SalesReport.js"></script>
<script src="https://togetherjs.com/togetherjs.js"></script>
<script src="~/js/d3.js"></script>
<script src="~/js/d3.min.js"></script>
<script src="~/Areas/TapsAdmin/BootstrapDatePicker/js/bootstrap-datepicker.min.js"></script>

<script>
    $('#sandbox-container .input-daterange').datepicker({
    });
</script>
<style>
    .input-sm {
        height: 13px;
        padding: 2px 10px;
        font-size: 12px;
        line-height: 1.5;
    }
</style>
