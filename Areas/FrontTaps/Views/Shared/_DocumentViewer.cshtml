@inherits System.Web.Mvc.WebViewPage
@using DevExpress.Web.Mvc.UI;

@if (ViewBag.Massage != null && false)
{
    <div class="alert alert-info">
        <strong>@ViewBag.Massage</strong>
    </div>
    @*<script language="javascript">
            toastr.warning('No data');
        </script>*@
}
else
{
    Html.DevExpress().DocumentViewer(settings =>
       {
           // The following settings are required for a Report Viewer.
           settings.Name = "documentViewer1";
           settings.Report = (DevExpress.XtraReports.UI.XtraReport)ViewData["Report"];


           if (Request.QueryString["ReportName"] == "Invoice")
           {
               settings.CallbackRouteValues = new { Controller = "Order", Action = "DocumentViewerOrderInvoiceReportDocument", OrderId = Request.QueryString["OrderId"].ToString() };
               settings.ExportRouteValues = new { Controller = "Order", Action = "ExportDocumentViewerOrderInvoiceReportDocument", OrderId = Request.QueryString["OrderId"].ToString() };
           }
           else if (Request.QueryString["ReportName"] == "Selected Order Invoice")
           {
               settings.CallbackRouteValues = new { Controller = "Order", Action = "DocumentViewerSelectedOrderInvoiceReportDocument", OrderId = Request.QueryString["OrderId"].ToString() };
               settings.ExportRouteValues = new { Controller = "Order", Action = "ExportDocumentViewerSelectedOrderInvoiceReportDocument", OrderId = Request.QueryString["OrderId"].ToString() };
           }
           else if (Request.QueryString["ReportName"] == "Picking List")
           {
               settings.CallbackRouteValues = new { Controller = "Order", Action = "DocumentViewerDeliveryNoteReportDocument", OrderId = Request.QueryString["OrderId"].ToString() };
               settings.ExportRouteValues = new { Controller = "Order", Action = "ExportDocumentViewerDeliveryNoteReportDocument", OrderId = Request.QueryString["OrderId"].ToString() };
           }
           else if (Request.QueryString["ReportName"] == "Tax Invoice")
           {
               settings.CallbackRouteValues = new { Controller = "Order", Action = "DocumentViewerTaxInvoiceDocument", OrderId = Request.QueryString["OrderId"].ToString() };
               settings.ExportRouteValues = new { Controller = "Order", Action = "ExportDocumentViewerTaxInvoiceReportDocument", OrderId = Request.QueryString["OrderId"].ToString() };
           }
           else
           {
           }
           //End of Last Record

           // Callback and export route values specify corresponding controllers and their actions.
           // These settings are required as well.
           //if (Request.QueryString["op"] != null)
       }).GetHtml();
}