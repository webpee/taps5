@model Taps5.Areas.FrontTaps.Models.Lookup.LoginModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_OnlyLayout.cshtml";
}

<script type="text/javascript">
    $(document).ready(function () {
        //	$('.col-exp.close').on('click', function(){
        $(document).on('click', '.col-exp.close', function () {
            $(this).attr('src', '/Areas/FrontTaps/Img/left.png');
            //		sval = $(this).parent('li').find('input[type="checkbox"]:first').val();
            sval = $('.form').serialize();
            //alert(sval);
            $(this).addClass('open');
            $(this).removeClass('close');
            $(this).parent('li').find('ul:first').show();
        })


        //	$('.col-exp.open').on('click', function(){
        $(document).on('click', '.col-exp.open', function () {
            sval = $('.form').serialize();
            //	alert(sval);
            $(this).attr('src', '/Areas/FrontTaps/Img/left.png');
            $(this).addClass('close');
            $(this).removeClass('open');
            $(this).parent('li').find('ul:first').hide();
        })

    });
</script>

<style type="text/css">
    .close {
        background: url("/Areas/FrontTaps/Img/left.png") no-repeat 0 0;
    }

    .open {
        background: url("/Areas/FrontTaps/Img/left.png") no-repeat 0 0;
    }

    .open {
        background: none;
        -webkit-transform: rotate(90deg);
    }

    li {
        list-style: none;
    }
    /*img.col-exp.open {
        -webkit-transform: rotate(90deg);
    }*/
    /* selected link */
</style>

<div>
    <div class="body-part">
        <div class="part-right">
            @*<div ng-controller="FilterCategoryCtrl">
                    <div class="part-one">
                        <div class="listlogin" ng-click="model.flag = !model.flag">
                            <h3 style="color:white;float:left">Component List</h3>
                            <img src="~/assets/img/arrow-216-32.png" style="padding-top: 14px; margin-left: 4px;" />
                        </div>
                        <div class="search">
                            <form method="post" ng-controller="PartsCtrl">
                                <input type="text" class="tftextinput" ng-model="model.SearchText" name="q" size="21" maxlength="120">
                                <input type="submit" value="SEARCH!" class="tfbutton" ng-click="GetPartsData(model.SearchText)">
                            </form>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <div class="component" ng-show="model.flag">
                        <form class="form">
                            <div class="com-list1">
                                <span>Body Group</span>
                                <div class="component-chec">
                                    <ul>
                                        <li id="li{{data.id}}" ng-repeat="data in list1" ng-if="data.idParent==null && data.idCategory==15">
                                            <input type="checkbox" name="Check{{data.id}}" value="{{data.id}}" />
                                            <img src="~/Areas/FrontTaps/Img/left.png" class=" col-exp close" ng-show="ParentList1(data.id)">
                                            <b>{{data.Name}}</b>
                                            <ul style="display: none;" ng-show="ParentList1(data.id)">
                                                <li ng-repeat="data1 in list1" ng-if="data.id==data1.idParent">
                                                    <input type="checkbox" name="Check{{data1.id}}" value="{{data1.id}}" />
                                                    <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList1(data1.id)">
                                                    <b>{{data1.Name}}</b>
                                                    <ul style="display: none;" ng-show="ParentList1(data1.id)">
                                                        <li ng-repeat="data2 in list1" ng-if="data1.id==data2.idParent">
                                                            <input type="checkbox" name="Check{{data2.id}}" value="{{data2.id}}" />
                                                            <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList1(data2.id)">
                                                            <b>{{data2.Name}}</b>
                                                            <ul style="display: none;" ng-show="ParentList1(data2.id)">
                                                                <li ng-repeat="data3 in list1" ng-if="data2.id==data3.idParent">
                                                                    <input type="checkbox" name="Check{{data3.id}}" value="{{data3.id}}" />
                                                                    <b>{{data3.Name}}</b>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="com-list2">
                                <span>Electrical Group</span>
                                <div class="component-chec">
                                    <ul>
                                        <li id="li{{data.id}}" ng-repeat="data in list2" ng-if="data.idParent==null && data.idCategory==16">
                                            <input type="checkbox" name="Check{{data.id}}" value="{{data.id}}" />
                                            <img src="~/Areas/FrontTaps/Img/left.png" class=" col-exp close" ng-show="ParentList2(data.id)">
                                            <b>{{data.Name}}</b>
                                            <ul style="display: none;" ng-show="ParentList2(data.id)">
                                                <li ng-repeat="data1 in list2" ng-if="data.id==data1.idParent">
                                                    <input type="checkbox" name="Check{{data1.id}}" value="{{data1.id}}" />
                                                    <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList2(data1.id)">
                                                    <b>{{data1.Name}}</b>
                                                    <ul style="display: none;" ng-show="ParentList2(data1.id)">
                                                        <li ng-repeat="data2 in list2" ng-if="data1.id==data2.idParent">
                                                            <input type="checkbox" name="Check{{data2.id}}" value="{{data2.id}}" />
                                                            <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList2(data2.id)">
                                                            <b>{{data2.Name}}</b>
                                                            <ul style="display: none;" ng-show="ParentList2(data2.id)">
                                                                <li ng-repeat="data3 in list2" ng-if="data2.id==data3.idParent">
                                                                    <input type="checkbox" name="Check{{data3.id}}" value="{{data3.id}}" />
                                                                    <b>{{data3.Name}}</b>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="com-list3">
                                <span>Engine, Fuel Group</span>
                                <div class="component-chec">
                                    <ul>
                                        <li id="li{{data.id}}" ng-repeat="data in list3" ng-if="data.idParent==null && data.idCategory==17">
                                            <input type="checkbox" name="Check{{data.id}}" value="{{data.id}}" />
                                            <img src="~/Areas/FrontTaps/Img/left.png" class=" col-exp close" ng-show="ParentList3(data.id)">
                                            <b>{{data.Name}}</b>
                                            <ul style="display: none;" ng-show="ParentList3(data.id)">
                                                <li ng-repeat="data1 in list3" ng-if="data.id==data1.idParent">
                                                    <input type="checkbox" name="Check{{data1.id}}" value="{{data1.id}}" />
                                                    <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList3(data1.id)">
                                                    <b>{{data1.Name}}</b>
                                                    <ul style="display: none;" ng-show="ParentList3(data1.id)">
                                                        <li ng-repeat="data2 in list3" ng-if="data1.id==data2.idParent">
                                                            <input type="checkbox" name="Check{{data2.id}}" value="{{data2.id}}" />
                                                            <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList3(data2.id)">
                                                            <b>{{data2.Name}}</b>
                                                            <ul style="display: none;" ng-show="ParentList3(data2.id)">
                                                                <li ng-repeat="data3 in list3" ng-if="data2.id==data3.idParent">
                                                                    <input type="checkbox" name="Check{{data3.id}}" value="{{data3.id}}" />
                                                                    <b>{{data3.Name}}</b>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="com-list4">
                                <span>Power Train, Chassis Group</span>
                                <div class="component-chec">
                                    <ul>
                                        <li id="li{{data.id}}" ng-repeat="data in list4" ng-if="data.idParent==null && data.idCategory==18">
                                            <input type="checkbox" name="Check{{data.id}}" value="{{data.id}}" />
                                            <img src="~/Areas/FrontTaps/Img/left.png" class=" col-exp close" ng-show="ParentList4(data.id)">
                                            <b>{{data.Name}}</b>
                                            <ul style="display: none;" ng-show="ParentList4(data.id)">
                                                <li ng-repeat="data1 in list4" ng-if="data.id==data1.idParent">
                                                    <input type="checkbox" name="Check{{data1.id}}" value="{{data1.id}}" />
                                                    <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList4(data1.id)">
                                                    <b>{{data1.Name}}</b>
                                                    <ul style="display: none;" ng-show="ParentList4(data1.id)">
                                                        <li ng-repeat="data2 in list4" ng-if="data1.id==data2.idParent">
                                                            <input type="checkbox" name="Check{{data2.id}}" value="{{data2.id}}" />
                                                            <img src="~/Areas/FrontTaps/Img/left.png" class="col-exp close" ng-show="ParentList4(data2.id)">
                                                            <b>{{data2.Name}}</b>
                                                            <ul style="display: none;" ng-show="ParentList4(data2.id)">
                                                                <li ng-repeat="data3 in list4" ng-if="data2.id==data3.idParent">
                                                                    <input type="checkbox" name="Check{{data3.id}}" value="{{data3.id}}" />
                                                                    <b>{{data3.Name}}</b>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>*@
            <div>
                @*<div ng-controller="FilterCtrl">
                        <div class="filter" ng-show="model.IdFilter==false">
                            <div class="filter-left">
                                <div class="btn-group">
                                    <select id="make" ng-model="model.Make" ng-change="FillModelData(model.Make)">
                                        <option value="">-Make-</option>
                                        <option ng-repeat="o in lstGetAllMake" ng-selected="model.Make == o.id" value="{{o.id}}">{{o.Make}}</option>
                                    </select>
                                    <select id="Model" ng-model="model.Model" ng-change="GetVehicles(model.Model)" ng-disabled="model.Make==0">
                                        <option value="">-Model-</option>
                                        <option ng-repeat="o in lstGetModel" ng-selected="model.Model == o.id" value="{{o.id}}">{{o.Name}}</option>
                                    </select>
                                    <select id="VehicleDetails" ng-model="model.VehicleDetails" ng-change="showFilter()">
                                        <option value="">YourVehicle(s)</option>
                                        <option ng-repeat="vl in lstVehicle" ng-click="SetTrim(vl.idTrim)" ng-selected="model.VehicleDetails == vl.id" value="{{vl.id}}">{{vl.Make}}{{" "}}{{" "}}({{vl.ModelName}}){{" "}}{{vl.TrimName}}{{" "}}{{vl.EngineName}}(cc){{" "}}{{vl.TransmissionName}}</option>
                                    </select>
                                    <select id="year" ng-model="model.Year" ng-change="SetYear(model.Year)">
                                        <option value="">-AnyYear-</option>
                                        <option ng-repeat="o in lstYearData" ng-selected="model.Year == o.idYear" value="{{o.idYear}}">{{o.Year}}</option>
                                    </select>
                                    <span class="clear-filter"><a href="#" class="clear-filter" ng-click="ClearData()">Clear Filter</a></span>
                                    <span class="filt">
                                        <a href="#" ng-hide="model.Year == ''" ng-click="FilterLeftMenu()">FILTER</a>
                                    </span>
                                </div>
                                <div style="margin-left: 5px; margin-top: 10px;">
                                    <span style="font-size: 12px; float: left; margin-top: 0px;">Selected Vehicle :</span>
                                    <div class="full-attribute city">
                                        <div class="attribute" ng-show="model.Year != ''">
                                            <div class="attribute-name">
                                                <p ng-repeat="vl in lstVehicle" ng-show="model.VehicleDetails == {{vl.id}} && model.Year != ''">{{vl.Make}}{{" "}}{{" "}}({{vl.ModelName}}){{" "}}{{vl.TrimName}}{{" "}}{{vl.EngineName}}(cc){{" "}}{{vl.TransmissionName}}{{" "}}{{model.YearName}}</p>
                                            </div>
                                            <div class="close-attribute">
                                                <div class="img" ng-click="Reset()"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                    <div class="select">
                        <div class="lorem1"> <span>Enter your vehicle registration number to select your vehicle model, year, cc.</span> </div>
                        <div class="ex">
                            <div class="exampale">
                                <form id="tfnewsearch" method="get" action="">
                                    <input type="text" class="sel-search" name="q" size="21" maxlength="120" placeholder="Example:BJR9022" ng-model="model.RegistrationNumber">
                                </form>
                            </div>
                            <div class="clear" style="clear: both;"></div>
                            <div class="sel"> <a href="#" ng-click="SelectVehicle()">SELECT</a> </div>
                        </div>
                    </div>
                    <div class="clear"></div>*@
                <div ng-controller="LoginCTRL">
                    <div class="login-box">
                        @using (Html.BeginForm("Login", "Account", new { @ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @id = "form", @name = "form", @novalidate = "novalidate", @class = "sign-form" }))
                        {
                            @*<form role="form" id="form" action="" name="form" class="" novalidate ng-submit="formSubmit()">*@
                            <div class="signup">
                                <a href="">Login</a>
                            </div>
                            <div class="mail">
                                <div class="password">
                                    <span>Email</span>
                                    <div id="tfnewsearch">
                                        <input type="email" class="email-coman" name="Email" id="Email" ng-model="model.Email" size="49" maxlength="120" placeholder="" ng-required="true">
                                        <span style="color:red" ng-show="form.Email.$dirty && form.Email.$invalid">
                                            <span ng-show="form.Email.$error.required">Email is required.</span>
                                            <span ng-show="form.Email.$error.email">Enter valid Email address</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="retype">
                                    <span>Password</span>
                                    <div id="tfnewsearch">
                                        <input class="email-coman" name="Password" id="Password" type="password"  ng-model="model.Password" size="49" maxlength="120" placeholder="" ng-required="true">
                                        <span class="control-label" style="color:red" ng-show="form.Password.$dirty && form.Password.$invalid">
                                            <span ng-show="form.Password.$error.required">Please Enter Password</span>
                                            @*ng-pattern="/(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z])/" ng-minlength="6"*@
                                            @*<span ng-show="form.Password.$error.pattern">Must contain one lower & uppercase letter,<br />and one non-alpha character<br />(a number or a symbol.) </span>
                                            <span ng-show="form.Password.$error.minlength">Password must be 6 characters Long</span>*@
                                        </span>
                                    </div>
                                </div>

                                <div class="clear"></div>
                            </div>
                            <div class="sign-last">
                                <div class="have-account">
                                    @{
                            if (ViewData["error"] != null && ViewData["error"].ToString().Equals("1"))
                            {
                                <div style="color:red;">
                                    @ViewData["message"]
                                </div>
                            }
                                    }
                                </div>
                                <br>
                                <div class="clear"></div>
                                <div class="have-account">
                                    <span>No Account ? <a href="~/Account/Register">Signup</a></span>
                                </div>
                                <br />
                                <br />
                                <div class="have-account">
                                    <span><a href="~/Account/ForgotPasswrod">Forgot Password ?</a></span>
                                </div>
                                <div class="signup-btn">
                                    <input type="submit" class="login-btn" ng-disabled="!form.$valid" name="Login" value="Login" />
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Areas/FrontTaps/app/controllers/Account/Login.js"></script>
<script src="~/Areas/FrontTaps/app/controllers/Filter/Filter.js"></script>
<script src="~/Areas/FrontTaps/app/controllers/CategoryMgmt/FilterCategory.js"></script>
<script src="~/Areas/FrontTaps/app/controllers/Parts/Parts.js"></script>